<html>
<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"></head>
<body topmargin="0" leftmargin="0" bottommargin="0" rightmargin="0" bgcolor="#000000" style="color&amp;#58;#ffffff">&#13;
<hr>
<b style="color&#58;#FF0000">ATTENZIONE!</b> Non rimuovere i jump o renderli non condizionali! L'ottimizzatore si bloccherà e la patch non funzionerà su ART! Per evitarlo, usa i jump condizionali. Per esempio, se devi fare il jump, sostituiscilo con <code>if-eq v0,v0 (bytes&#58; 32 00 ?? ??)</code>. Se non dovesse esserci la necessità di fare il jump su un istruzione precisa, puoi inserire un jump nella forma <code>if-ne v0,v0 (bytes&#58; 33 00 ?? ??)</code>; o comunque un qualunque equivalente.<br><br>Il file della patch deve avere lo stesso nome dell'APK obiettivo (è case-sensitive).<br>Se il file è una patch specifica da sovrapporre ad una già esistente, aggiungi qualunque testo all'inizio del nome e salvalo con quello già esistente.<br>If you want to write a patch once a series of programs on a single firm, then the end the custom patch file name, you can use <code> _%25ALL%25</code>, for example the name of the patch for all the votes<code> SVOX</code> will look like this&#58; <code>com.svox.classic.langpack_%25ALL%25.txt</code>. On the<code> _%25ALL%25</code> is replaced by the name part of the package, which varies depending on the application of the firm.&#13;
Do not use special characters/formatting in the patch file (single spaces only). If you need to make a patch for several programs of one firm and add a prefix at the beginning, you can use<code>%25ALL%25_</code>  and<code> _%25ALL%25</code>. (Example name&#58; <code>chelpus.%25ALL%25_com.android._%25ALL%25.txt</code>). You can use to custom patch content<code> %25PACKAGE_NAME%25</code> for path to files, this <code>%25PACKAGE_NAME%25</code> replace to package name of target applications.<br>Per cercare modelli di byte usa IDA Pro 6.1. Può aprire la dalvik-cache, odex, librerie e classes.dex.<br>Se vuoi creare una patch per dalvik-cache o odex, non dimenticarti che i byte di dati possono differire nelle varie versioni dei firmware. Tieni a mente che non tutti i classes.dex nei byte coincidono con la dalvik-cache e l'odex. In questo esempio puoi vederlo, se apri classes.dex e odex-file in IDA Pro.<br><br>[INIZIA]<br>&lt;i commenti per la patch sono visibili nella pre-patch dell'utente&gt;<br>Patch per XYZ Pro 5.0.5<br><br>[PACCHETTO]<br>&lt;spacchetta il file classes.dex e applica tutte le patch dal [CLASSI] ad esso. E genera, in base ai classes.dex modificati il file odex.&gt;<br><br>[CLASSI]<br>&lt;cerca/sostituisci pattern per classes.dex (guarda più giù)&gt;<br><code>{"cerca"&#58;"63 R00 R01 R02 38 00 04 00 12 10 0F 00"}<br>{"gruppo"&#58;"1"}<br>{"originale"&#58;"63 ?? ?? ?? 38 00 04 00 12 10 0F 00"}<br>{"rimpiazzato"&#58;"12 00 6A W00 W01 W02 00 00 12 <b style="color&#58;#36ff00">S0</b> 0F 00"}</code><br><br>[LIB]<br>&lt;cerca/sostituisci pattern per tutte le librerie con nomi nativi (guarda più giù)&gt;<br><code>{"nome"&#58;"libtitanium.so"}<br>{"originale"&#58;"00 ** 50 e2"}<br>{"rimpiazzato"&#58;"00 00 50 e1"}<br></code><br>[LIB]<br>&lt;cerca/sostituisci pattern per tutte le librerie native&gt;<br><code>{"nome"&#58;"*"}<br>{"originale"&#58;"00 ** 50 e2"}<br>{"rimpiazzato"&#58;"00 00 50 e1"}<br></code><br>[ALTRI FILE]<br>&lt;cerca/sostituisci pattern per altri files chiamati /data/data/Package_Target_APK/ (guarda sotto)&gt;<br><code>{"nome"&#58;"/files/shell.dex"}<br>{"originale"&#58;"0F 00 00 00 1A 00 00 00 0F 00 00 00 59 00 00 00 2F"}<br>{"rimpiazzato"&#58;"0F 00 00 00 0F 00 00 00 0F 00 00 00 59 00 00 00 2F"}<br><br></code>↩
[OTHER FILES]<br>&lt;cerca/inserisci pattern per altri files chiamati /mnt/sdcard/ (se il percorso /mnt/sdcard/ non viene trovato, Lucky Patcher cercherà altre varianti per sdcard)&gt;<br><code>{"nome"&#58;"/mnt/sdcard/Android/package-name/files/lives.xml"}<br>{"originale"&#58;"63 68 65 6C 70 61"}<br>{"inserisci"&#58;"63 68 65 6c 70 61 61 61"}<br><br></code>
[FILE_IN_APK]<br>&lt;cerca/sostituici pattern per file da un apk (questa patch funzionerà solo per apk ricostruiti con questa patch specifica)&gt;<br><code>{"nome"&#58;"assets/bin/Data/Managed/O7SharpCompress.dll"}<br>{"originale"&#58;"0F 00 00 00 1A 00 00 00 0F 00 00 00 59 00 00 00 2F"}<br>{"rimpiazzato"&#58;"0F 00 00 00 0F 00 00 00 0F 00 00 00 59 00 00 00 2F"}<br><br></code>
[AGGIUNGI-BOOT]<br>&lt;Aggiungi automaticamente la patch utente corrente alla BootList. Dovrebbe essere usata nella libreria della patch (o nella patch [CLASSES] senza  [ODEX] o senza [PACKAGE])&gt;<br><br>[FINE]<br>&lt;commenti della patch che saranno visibili agli utenti nel post-patch&gt;<br>Congratulazioni, l'applicazione è stata modificata!<br><br><code>"cerca" </code>&#45; cerca, ti permette di cercare un pattern e store bytes in specifiche posizioni.<br><code>{"cerca"&#58;"<b style="color&#58;#36ff00">63 </b><b style="color&#58;#fffc00">R00 R01 R02 </b><b style="color&#58;#36ff00">38 00 04 00 12 10 0F 00</b>"}<br></code>
In questo esempio i bytes verdi maschereranno il pattern, mentre quelli in giallo contrassegnati con  R00 -&gt; R02 saranno memorizzati.<br>I byte immagazzinati devono essere in ordine R00, R01, R02, R03...<br>I byte immagazzinati non possono essere ripetuti.<br><br><code>"gruppo"</code> - contrassegna i pattern del gruppo (gruppi di numeri potrebbero essere di 1 o più). Probabilmente ti starai chiedendo 'Che cosa significa?'. Bene, quello che significa è che se almeno un pattern del gruppo funziona, verrà mostrato un messaggio di successo. Questo è utile quando stai cercando di fare una patch universale per varie versioni di una particolare applicazione (per esempio, patcha tutte le versioni del Google Play per disabilitare gli aggiornamenti automatici).<br><code>"originale" </code>&#45; Questo è un pattern maschera usato per cercare il punto in cui la patch verrà applicata.<br><code>{"originale"&#58;"<b style="color&#58;#36ff00">63 </b><b style="color&#58;#fffc00">?? ?? ?? </b><b style="color&#58;#36ff00">38 00 04 00 12 10 0F 00</b>"}<br></code>
In questo esempio i bytes in verde comporranno il tuo pattern maschera, mentre i bytes in giallo saranno i jolly  (??, **)<br><code>"sostituito"</code> &#45; questo seguirà un modello "originale", questo sarà quello con cui sarà sovrascritto l'offset.<br><code>{"rimpiazzato"&#58;"<b style="color&#58;#36ff00">12 00 6A </b><b style="color&#58;#fffc00">W00 W01 W02 </b><b style="color&#58;#36ff00">00 00 12 00 0F 00</b>"}<br></code>&#13;
In this example, bytes in green will overwrite the target location.. bytes in yellow are stored bytes from the previously executed "search"<br><code>"nome"</code> &#45; questo è usato per marcare una specifica libreria con un nome (guarda sopra in [LIB])<br><b style="color&#58;#36ff00">S0</b> , <b style="color&#58;#36ff00">S1</b>, <b style="color&#58;#36ff00">SQ</b> - imposta la variabile minima a 0 (converti i numeri hex in: 43-&gt;03,54-&gt;04...) or 1 (converti i numeri hex in: 43-&gt;13,04-&gt;14...) rispettivamente o imposta, SQ converti gli hex  34-&gt;44, 51-&gt;11 ...<br>Per esempio, c'è una variabile &#58; <code>const/4 v?,0x00</code> . il punto interrogativo mostra, che i numeri di <code>var\</code> sono sconosciuti (per esempio, questo è stato cambiato nella nuova versione), ma sei sicuro che questo valore è uguale a 0 e vuoi impostarlo a 1. In questo caso il pattern sarà&#58;<br><code>{"originale"&#58;"12 ?? ?? ?? ?? ??"}<br>{"rimpiazzato"&#58;"12 S1 ?? ?? ?? ??"}<br></code>
E viceversa, per impostare la variabile come 0&#58;<br><code>{"originale"&#58;"12 ?? ?? ?? ?? ??"}<br>{"rimpiazzato"&#58;"12 S0 ?? ?? ?? ??"}<br></code>&#13;
<code>"replace_from_file" </code>&#45; this will follow an <code>"original" </code>statement, this is what the offset will be overwritten with bytes from the file (file must saved near custom patch).<br><code>{"replace_from_file"&#58;"<b style="color&#58;#36ff00">array.bin</b>"}<br></code>
Questo è fatto in modo da evitare di scrivere templates molto lunghi da sostutuire.<br><code>"inserisci"</code> &#45; Se vuoi inserire la lunghezza dei dati, è migliore della lunghezza del pattern originale.<br>(Example)file before patch contain&#58;<code>"chelpa end"</code><br><code>{"originale"&#58;"63 68 65 6C 70 61"}<br>{"inserisci"&#58;"63 68 65 6c 70 61 61"}<br></code>
il file dopo la patch contiene&#58;<code>"chelpaa end"</code><br><br>[LIB-ARMEABI],[LIB-ARMEABI-V7A],[LIB-MIPS] o [LIB-X86] - per librerie da <code>/lib/armeabi/, /lib/armeabi-v7a/, /lib/mips/, /lib/x86/</code>.<br><br>[ODEX-PATCH] - Una patch ha appena creato un file odex. per esempio, un applicazione è stata patchata con la modalità automatica per rimuovere la Verifica della Licenza, ma hai bisogno di applicare altre modifiche usando una Patch Specifica. Se usi una semplice [PACCHETTO]-[CLASSI], [ODEX] o [CLASSI]-[ODEX], il file odex sarà creato senza alcun cambiamento e solo quando patchato.<br>Esempio&#58;<br><br>[INIZIA]<br>[PATCH-ODEX]<br><code>{"originale"&#58;"63 ?? ?? ?? 38 00 04 00 12 10 0F 00"}<br>{"rimpiazzato"&#58;"12 00 6A ?? ?? ?? 00 00 12 00 0F 00"}<br></code>
[FINE]<br>Congratulazioni! ODEX modificato!<br><br>[CLASSI] senza [PACCHETTO] - Fa una patch alla dalvik-cache delle applicazioni. Non dimenticare che il sistema aggiorna periodicamente la dalvik-cache delle applicazioni e quindi tutti i cambiamenti scompariranno. Perciò dovremo aggiungere [ADD-BOOT]. La patch per la dalvik-cache non è aggiornata ed è inaffidabile. Ma è necessaria per la ROM Toolbox,  perchè essa non lavora molto bene con i files odex.<br>Esempio&#58;<br><br>[INIZIA]<br>[CLASSI]<br><code>{"originale"&#58;"63 ?? ?? ?? 38 00 04 00 12 10 0F 00"}<br>{"rimpiazzato"&#58;"12 00 6A ?? ?? ?? 00 00 12 00 0F 00"}<br></code>
[AGGIUNGI-BOOT]<br>[FINE]<br>Congratulazioni!<br><br>[ODEX] - Copia la dalvk-cache in /data/app/ e rinominala come un file odex, quindi tutte le patch saranno applicate a questo file odex. I Cecksum del file odex saranno sbagliati e non potranno superare la verifica a differenza del file odex creato[PACKAGE] - [CLASSES].<br>Esempio&#58;<br><br>[INIZIA]<br>[ODEX]<br><code>{"originale"&#58;"63 ?? ?? ?? 38 00 04 00 12 10 0F 00"}<br>{"rimpiazzato"&#58;"12 00 6A ?? ?? ?? 00 00 12 00 0F 00"}<br></code>
[FINE]<br>Congratulazioni!<br><br>[CLASSI]-[ODEX] - Fa una patch alla dalvik-cache e copiala in /data/app/ e rinominala come file odex. I Checksum del file odex e della dalvik-cache saranno sbagliati e non potranno superare la verifica, a differenza del file odex creato [PACCHETTO] - [CLASSIO].<br>Esempio&#58;<br><br>[INIZIA]<br>[CLASSI]<br><code>{"originale"&#58;"63 ?? ?? ?? 38 00 04 00 12 10 0F 00"}<br>{"rimpiazzato"&#58;"12 00 6A ?? ?? ?? 00 00 12 00 0F 00"}<br></code>
[ODEX]<br>[FINE]<br>Congratulazioni!<br><br>[COMPONENTE] - Attiva o disattiva i componenti delle Applicazioni.<br>Esempio&#58;<br><br>[INIZIA]<br>[COMPONENTE]<br><code>{"disabilita"&#58;"com.superApp.adsActivity"}<br>{"abilita"&#58;"com.superApp.fullVersion.Provider"}<br>{"disabilita"&#58;"com.android.vending.CHECK_LICENSE"}<br></code>
[FINE]<br>Congratulazioni!<br><br>[SQLITE] - Spesso l'applicazione bersaglio potrebbe cambiare qualcosa nel database, quindi come aiuto vi è questa possibilità&#58;<br>Esempio&#58;<br><br>[INIZIA]<br>Azzeramento della prova<br>[SQLITE]<br><code>{"database"&#58;"/data/data/com.package.megaapp/databases/settings.db"}<br>{"esegui"&#58;"DELETE FROM table_settings WHERE name = 'SETTING__LIC'"}<br>{"esegui"&#58;"UPDATE table_settings SET UsedDays=0 WHERE name='Trial_set'"}<br></code>
[FINE]<br>Congratulazioni! Il tuo periodo di prova è stato azzerato!<br><br>database - percorso dal database nel dispositivo, oppure puoi usare solo il nome del database per far cercare a Lucky Patcher il file.<br>esegui - query SQLite.<br><br>[IMPOSTA_PERMESSI] - Comandi linux analoghi "chmod permissions nome_file" per file nella cartella data dell'applicazione&#58;<br>Esempio&#58;<br><br>[INIZIA]<br>Azzeramento della prova<br>[IMPOSTA_PERMESSI]<br><code>{"nome_file"&#58;"/files/stats"}<br>{"permessi"&#58;"777"}<br></code><br>[ALTRI FILE]<br><code>{"nome"&#58;"/files/stats"}<br><br>{"originale"&#58;"4D 4D 46 31"}<br>{"rimpiazzato"&#58;"00 4D 46 30"}<br><br></code>
[IMPOSTA_PERMESSI]<br><code>{"nome_file"&#58;"/files/stats"}<br>{"permessi"&#58;"444"}<br></code>
[FINE]<br>Congratulazioni! Il tuo periodo di prova è stato azzerato!<br><br>[COPIA_FILE] - Copia il file dalla dir di Lucky Patcher fino alla cartella con un nuovo nome file&#58;<br>Esempio&#58;<br><br>[INIZIA]<br>Copia file con soldi<br>[COPIA_FILE]<br><code>{"nome_file"&#58;"soldi_per_gioco.bin"}<br>{"da"&#58;"/data/data/game_package/files/settings.xml"}<br></code>
[FINE]<br>Congratulazioni! Il tuo file è stato copiato e i tuoi soldi modificati!<br><br><hr>
</body>
</html>
